# デバッグレイアウト実装ルール

## 基本方針

レイアウト実装時は、必ずデバッグ用の視覚的ガイドラインを追加して、各エリアの境界を明確にする。

## 必須実装項目

### 0. エリア定義の基本原則

#### 空白エリア禁止ルール

**実際のコンテンツが存在しないエリアは定義してはいけない**

✅ **やるべきこと**:

- 実際に UI 要素があるエリアのみを定義する
- コンテンツの実際の配置に合わせてエリア境界を設定する
- 空白部分はエリア定義しない（無視する）
- **画面全体をエリアで埋める**
- 何もない空白部分にエリアを作る
- 空白を埋めるためにエリアを拡張する
- 画面全体を無理やりエリアで分割する

### 1. DebugHelper クラスの使用

#### 推奨実装方法

```typescript
import { DebugHelper } from "../utils/DebugHelper";

export class YourScene extends Phaser.Scene {
  private debugHelper!: DebugHelper;

  create() {
    // デバッグヘルパーを初期化
    this.debugHelper = new DebugHelper(this);

    // エリア境界線を追加
    this.debugHelper.addAreaBorder(x, y, width, height, color, "エリア名");
  }
}
```

#### ショートカットキー

- **D キー**: デバッグライン表示/非表示切り替え
- **Shift+D キー**: デバッグ情報をコンソール出力

### 2. エリア境界の可視化

#### エリア別の色分け

- **タイトルエリア**: 赤色（0xFF0000）
- **ナビゲーション/メニューエリア**: 緑色（0x00FF00）
- **コンテンツエリア**: 青色（0x0000FF）
- **メインコンテンツ/アイテム表示エリア**: 黄色（0xFFFF00）
- **ボタン/アクションエリア**: 紫色（0xFF00FF）
- **フッターエリア**: 水色（0x00FFFF）

## 適用場面

### 必須適用画面

- すべての画面

## ショートカットキーの利点

### 開発効率の向上

- **D キー**: 瞬時にデバッグライン切り替え
- **画面の邪魔にならない**: ボタンと違って画面上に表示されない
- **素早い操作**: キーボード操作で高速切り替え
- **一貫性**: 全画面で同じショートカットキー

### 使用方法

1. 開発中は常にデバッグラインを表示
2. 実際の見た目を確認したい時は「D」キーで非表示
3. レイアウト調整時は「D」キーで再表示
4. デバッグ情報が必要な時は「Shift+D」でコンソール出力

## 注意事項

### やるべきこと ✅

- DebugHelper クラスを使用する
- 全てのエリアに境界線を引く
- 色分けで区別しやすくする
- ショートカットキーを活用する

### やってはいけないこと ❌

- デバッグラインなしでレイアウト実装
- 推測による座標設定
- エリアの重なりを放置
- 本番環境にデバッグラインを残す

## 効果

### 開発効率の向上

- 座標計算ミスの早期発見
- レイアウト問題の可視化
- デバッグ時間の短縮
- 素早い表示切り替え

### 品質向上

- UI 要素の重なり防止
- 正確な座標配置
- 一貫したレイアウト設計
